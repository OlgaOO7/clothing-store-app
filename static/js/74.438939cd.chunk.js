"use strict";(self.webpackChunkclothing_store_app=self.webpackChunkclothing_store_app||[]).push([[74],{8074:function(n,t,e){e.r(t),e.d(t,{default:function(){return Un}});var r,i,c,o,s,a,d,u,p,l,x,f,h,g,Z,m,j,v,y,b,k,w,P,I,z,C,q,Q,U,S,T,E=e(4165),B=e(5861),$=e(9439),_=e(2791),G=e(9434),H=e(7689),L=e(1087),A=e(1243),K=e(8117),M=e(2894),Y=e(6565),D=e(8379),F=e(4305),J=e(7609),N=e(168),O=e(5867),R=O.ZP.div(r||(r=(0,N.Z)(["\n  display: flex;\n  align-items: center;\n"]))),V=O.ZP.div(i||(i=(0,N.Z)(["\n  display: flex;\n  gap: 35px;\n  /* width: 493px; */\n  margin-right: 195px;\n"]))),W=O.ZP.img(c||(c=(0,N.Z)(["\n  width: 48px;\n  height: 67px;\n  @media (min-width: 768px) {\n    width: 206px;\n    height: 234px;\n  }\n"]))),X=O.ZP.div(o||(o=(0,N.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 15px;\n  width: 250px;\n  color: #000;\n  text-align: left;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 300;\n  line-height: normal;\n  @media (min-width: 768px) {\n    font-size: 24px;\n  }\n"]))),nn=O.ZP.p(s||(s=(0,N.Z)(["\n  color: #000;\n  width: max-content;\n  font-weight: 400;\n  font-size: 16px;\n  @media (min-width: 768px) {\n    font-size: 24px;\n  }\n"]))),tn=O.ZP.div(a||(a=(0,N.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px 13px;\n  margin-right: 115px;\n  width: 82px;\n  height: 32px;\n  border: 1px solid #000;\n  font-size: 18px;\n"]))),en=O.ZP.svg(d||(d=(0,N.Z)(["\n  width: 9px;\n  height: 22px;\n"]))),rn=O.ZP.p(u||(u=(0,N.Z)(["\n  /* margin-right: 219px; */\n  color: #000;\n  text-align: center;\n  font-family: Inter;\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n  @media (min-width: 768px) {\n    font-size: 24px;\n  }\n"]))),cn=O.ZP.button(p||(p=(0,N.Z)(["\n  width: 7px;\n  height: 7px;\n  background-color: transparent;\n  border: none;\n  @media (min-width: 768px) {\n    width: 13px;\n    height: 13px;\n  }\n"]))),on=O.ZP.svg(l||(l=(0,N.Z)(["\n  width: 7px;\n  height: 7px;\n  @media (min-width: 768px) {\n    width: 13px;\n    height: 13px;\n  }\n"]))),sn=O.ZP.p(x||(x=(0,N.Z)(["\n  color: ",";\n  font-size: ",";\n  padding-top: ",";\n"])),(function(n){return n.color}),(function(n){return n.fontSize}),(function(n){return n.paddingTop})),an=O.ZP.div(f||(f=(0,N.Z)(["\n  display: flex;\n"]))),dn=O.ZP.div(h||(h=(0,N.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),un=O.ZP.div(g||(g=(0,N.Z)(["\n  width: 130px;\n  margin-right: 180px;\n"]))),pn=e(184),ln=function(n){var t=n.item,e=n.decreaseProductQuantity,r=n.increaseProductQuantity,i=n.availableQuantity,c=(0,F.G)().isMobileScreen,o=(0,G.I0)(),s=(0,H.TH)(),a=function(){var n=(0,B.Z)((0,E.Z)().mark((function n(t){return(0,E.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o((0,K.x$)(t));case 2:return n.next=4,o((0,K.dv)());case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),d=i>0,u=i===t.quantity;return(0,pn.jsxs)(R,{children:[c&&(0,pn.jsx)(cn,{onClick:function(){return a(t.sku.id)},children:(0,pn.jsx)(on,{children:(0,pn.jsx)("use",{href:"".concat(J.Z,"#icon-cross")})})}),(0,pn.jsxs)(V,{children:[(0,pn.jsx)(L.rU,{to:"/catalog/".concat(t.productId),state:{from:s},children:(0,pn.jsx)(W,{src:t.photoUrl,alt:(0,D.$)(t.productTitle),loading:"lazy"})}),(0,pn.jsxs)(X,{children:[(0,pn.jsx)(L.rU,{to:"/catalog/".concat(t.productId),state:{from:s},children:(0,pn.jsx)(nn,{children:(0,D.$)(t.productTitle,15)})}),t.sku.characteristics&&(0,pn.jsxs)("div",{children:[(0,pn.jsx)("p",{children:t.sku.characteristics[1].name}),(0,pn.jsx)("p",{children:t.sku.characteristics[0].name})]})]})]}),i?d&&(0,pn.jsxs)(an,{children:[(0,pn.jsxs)(dn,{children:[(0,pn.jsxs)(tn,{children:[(0,pn.jsx)("span",{onClick:function(){return e(t.productId)},children:(0,pn.jsx)(en,{children:(0,pn.jsx)("use",{href:"".concat(J.Z,"#icon-minus")})})}),t.quantity,(0,pn.jsx)("span",{onClick:function(){return r(t.productId)},children:(0,pn.jsx)(en,{children:(0,pn.jsx)("use",{href:"".concat(J.Z,"#icon-plus")})})})]}),u&&(0,pn.jsxs)(sn,{paddingTop:"6px",color:"#4C4B4B",fontSize:"12px",children:["\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u0443: ",i]})]}),(0,pn.jsx)(un,{children:(0,pn.jsxs)(rn,{children:[(0,Y.T)(t.amount)," ",t.currencyCode]})}),!c&&(0,pn.jsx)(cn,{onClick:function(){return a(t.sku.id)},children:(0,pn.jsx)(on,{children:(0,pn.jsx)("use",{href:"".concat(J.Z,"#icon-cross")})})})]}):(0,pn.jsxs)("div",{style:{width:"547px"},children:[(0,pn.jsx)(sn,{color:"red",children:"\u041d\u0430\u0440\u0430\u0437\u0456 \u0442\u043e\u0432\u0430\u0440 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0439"}),!c&&(0,pn.jsx)(cn,{onClick:function(){return a(t.sku.id)},children:(0,pn.jsx)(on,{children:(0,pn.jsx)("use",{href:"".concat(J.Z,"#icon-cross")})})})]})]})},xn=O.ZP.div(Z||(Z=(0,N.Z)(["\n  padding: 174px 40px 0 40px;\n  margin-bottom: 646px;\n"]))),fn=O.ZP.div(m||(m=(0,N.Z)(["\n  display: flex;\n  align-items: center;\n"]))),hn=O.ZP.div(j||(j=(0,N.Z)(["\n  width: 1px;\n  height: 16px;\n  margin: 0 31px;\n  background-color: #000;\n"]))),gn=(0,O.ZP)(L.rU)(v||(v=(0,N.Z)(["\n  font-size: 22px;\n  color: #000;\n"]))),Zn=O.ZP.div(y||(y=(0,N.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 20px;\n"]))),mn=O.ZP.div(b||(b=(0,N.Z)(["\n  display: flex;\n  margin-bottom: 18px;\n  color: #000;\n  text-align: center;\n  font-family: Gill Sans;\n  font-size: 32px;\n  font-weight: 400;\n  line-height: normal;\n"]))),jn=O.ZP.p(k||(k=(0,N.Z)(["\n  margin-right: 610px;\n"]))),vn=O.ZP.p(w||(w=(0,N.Z)(["\n  margin-right: 113px;\n"]))),yn=O.ZP.ul(P||(P=(0,N.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 37px;\n  max-height: 507px;\n  padding: 29px 0;\n  /* border-top: 1px solid #686868; */\n  border-bottom: 1px solid #686868;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n"]))),bn=O.ZP.div(I||(I=(0,N.Z)(["\n  width: max-content;\n  padding: 84px 104px;\n  margin-top: 36px;\n  margin-left: auto;\n  background-color: #f0f0f0;\n"]))),kn=O.ZP.div(z||(z=(0,N.Z)(["\n  display: flex;\n  justify-content: space-between;\n  gap: 120px;\n  margin-bottom: 31px;\n  color: #000;\n  font-size: 18px;\n"]))),wn=O.ZP.div(C||(C=(0,N.Z)(["\n  display: flex;\n  justify-content: space-between;\n  gap: 120px;\n  margin-bottom: 61px;\n  color: #000;\n  font-size: 24px;\n  font-weight: 600px;\n"]))),Pn=O.ZP.div(q||(q=(0,N.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 14px;\n  width: 345px;\n"]))),In=(0,O.ZP)(L.rU)(Q||(Q=(0,N.Z)(["\n  display: flex;\n  justify-content: center;\n  color: #fff;\n  background-color: #0e0e0e;\n  font-size: 22px;\n  padding: 16px 0;\n  border: 1px solid #191919;\n  width: 345px;\n"]))),zn=(0,O.ZP)(L.rU)(U||(U=(0,N.Z)(["\n  display: flex;\n  justify-content: center;\n  color: #191919;\n  font-size: 22px;\n  padding: 16px 0;\n  border: 1px solid #191919;\n  width: 345px;\n"]))),Cn=O.ZP.div(S||(S=(0,N.Z)(["\n  position: sticky;\n  top: 100px;\n  z-index: 1111;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 29px;\n  background-color: rgb(255, 255, 255);\n  border-bottom: 1px solid #686868;\n"]))),qn=O.ZP.button(T||(T=(0,N.Z)(["\n  padding: 8px 10px;\n  color: #ffffff;\n  background-color: #000000;\n  border: none;\n"]))),Qn=function(){var n=(0,_.useState)([]),t=(0,$.Z)(n,2),e=t[0],r=t[1],i=(0,_.useState)({}),c=(0,$.Z)(i,2),o=c[0],s=c[1],a=(0,G.I0)(),d=(0,H.TH)(),u=localStorage.getItem("userUid"),p=(0,G.v9)(M.KY),l=(0,G.v9)(M.pZ),x=(0,G.v9)(M.wU),f=e&&e.some((function(n){return 0===o[n.productId]})),h=(0,_.useCallback)((function(){try{a((0,K.dv)())}catch(n){console.error("Error fetching data:",n)}}),[a]);(0,_.useEffect)((function(){h()}),[h]),(0,_.useEffect)((function(){r(p.items);var n=function(){var n=(0,B.Z)((0,E.Z)().mark((function n(t){var e,r,i;return(0,E.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,A.Z.get("/products/".concat(t));case 3:if(e=n.sent,!(r=p.items.find((function(n){return n.productId===t})))){n.next=12;break}if(!(i=e.data.skuSet.find((function(n){return n.id===r.sku.id})))){n.next=11;break}return n.abrupt("return",{productId:t,availableQuantity:i.availableQuantity});case 11:return n.abrupt("return",{productId:t,availableQuantity:0});case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.error(n.t0);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(t){return n.apply(this,arguments)}}(),t=function(){var t=(0,B.Z)((0,E.Z)().mark((function t(){var e,r,i;return(0,E.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!p.items){t.next=8;break}return e=p.items.map(function(){var t=(0,B.Z)((0,E.Z)().mark((function t(e){return(0,E.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n(e.productId));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),t.next=5,Promise.all(e);case 5:r=t.sent,i=r.reduce((function(n,t){return n[t.productId]=t.availableQuantity,n}),{}),s(i);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();t()}),[p,a]);var g=function(){var n=(0,B.Z)((0,E.Z)().mark((function n(t){var r,i,c,s,d;return(0,E.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.find((function(n){return n.productId===t})),i=r.quantity+1,c=i-r.quantity,s=o[r.productId],!(r&&i<=s)){n.next=18;break}return d={sessionId:u,skuId:r.sku.id,price:r.price,quantity:c,amount:r.price*c},n.prev=6,n.next=9,a((0,K.Bk)(d));case 9:return n.next=11,h();case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(6),console.error("Error updating product quantity:",n.t0);case 16:n.next=19;break;case 18:return n.abrupt("return");case 19:case"end":return n.stop()}}),n,null,[[6,13]])})));return function(t){return n.apply(this,arguments)}}(),Z=function(){var n=(0,B.Z)((0,E.Z)().mark((function n(t){var r,i,c,o;return(0,E.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.find((function(n){return n.productId===t})),i=r.quantity-1,c=i-r.quantity,!(r&&r.quantity>1)){n.next=17;break}return o={sessionId:u,skuId:r.sku.id,price:r.price,quantity:c,amount:r.price*c},n.prev=5,n.next=8,a((0,K.Bk)(o));case 8:return n.next=10,h();case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),console.error("Error updating product quantity:",n.t0);case 15:n.next=18;break;case 17:return n.abrupt("return");case 18:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(t){return n.apply(this,arguments)}}();return(0,pn.jsxs)(xn,{children:[(0,pn.jsxs)(fn,{children:[(0,pn.jsx)(gn,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),(0,pn.jsx)(hn,{}),(0,pn.jsx)(gn,{to:"/cart",children:"\u041a\u043e\u0448\u0438\u043a"})]}),x?(0,pn.jsx)("p",{children:"Is loading..."}):l?(0,pn.jsxs)("div",{children:[(0,pn.jsxs)(Zn,{children:[(0,pn.jsxs)(Cn,{children:[(0,pn.jsxs)(mn,{children:[(0,pn.jsx)(jn,{children:"\u0422\u043e\u0432\u0430\u0440"}),(0,pn.jsx)(vn,{children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c"}),(0,pn.jsx)("p",{children:"\u0426\u0456\u043d\u0430"})]}),(0,pn.jsx)("div",{children:(0,pn.jsx)(qn,{onClick:function(){a((0,K.LL)())},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0438 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})})]}),(0,pn.jsx)(yn,{children:(null===e||void 0===e?void 0:e.length)>0&&e.map((function(n){return(0,pn.jsx)("li",{children:(0,pn.jsx)(ln,{item:n,increaseProductQuantity:g,decreaseProductQuantity:Z,availableQuantity:o[n.productId]})},n.sku.id)}))})]}),(0,pn.jsxs)(bn,{children:[(0,pn.jsxs)(kn,{children:[(0,pn.jsxs)("p",{children:["\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c",(0,pn.jsx)("br",{})," \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"]}),(0,pn.jsxs)("p",{children:["\u0417\u0430 \u0442\u0430\u0440\u0438\u0444\u0430\u043c\u0438",(0,pn.jsx)("br",{})," \u043f\u0435\u0440\u0435\u0432\u0456\u0437\u043d\u0438\u043a\u0430"]})]}),(0,pn.jsxs)(wn,{children:[(0,pn.jsx)("p",{children:"\u0421\u0443\u043c\u0430 "}),(0,pn.jsxs)("p",{children:[(0,Y.T)(p.totalAmount)," ",p.currencyCode]})]}),(0,pn.jsxs)(Pn,{children:[f?(0,pn.jsx)(In,{disabled:!0,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}):(0,pn.jsx)(In,{to:"/order",state:{from:d,sessionId:null===p||void 0===p?void 0:p.sessionId},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,pn.jsx)(zn,{to:"/catalog",state:{from:d},children:"\u041f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438 \u043f\u043e\u043a\u0443\u043f\u043a\u0443"})]})]})]}):(0,pn.jsxs)("div",{style:{display:"flex",gap:"4px"},children:[(0,pn.jsx)("p",{children:"\u0412\u0430\u0448 \u043a\u043e\u0448\u0438\u043a \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u0439."}),(0,pn.jsx)(L.rU,{to:"/catalog",state:{from:d},children:"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044f \u0434\u043e \u043f\u043e\u043a\u0443\u043f\u043e\u043a"})]})]})},Un=function(){return(0,pn.jsx)("main",{children:(0,pn.jsx)(Qn,{})})}},8379:function(n,t,e){e.d(t,{$:function(){return r}});var r=function(n,t){return n.length>t?n.substring(0,t-3)+"...":n}}}]);
//# sourceMappingURL=74.438939cd.chunk.js.map