"use strict";(self.webpackChunkclothing_store_app=self.webpackChunkclothing_store_app||[]).push([[41],{5041:function(n,t,e){e.r(t),e.d(t,{default:function(){return On}});var i,r,o,a,c,d,s,p,l,x,u,f,h,m,g,Z,b,v,y,j,w,k,P,z,I,Q,C,q,S,T,U,E,$,L,B,_,A,F,G=e(4165),H=e(5861),M=e(9439),K=e(2791),O=e(9434),Y=e(7689),D=e(1243),J=e(8117),N=e(1087),R=e(6565),V=e(8379),W=e(4305),X=e(7609),nn=e(168),tn=e(5867),en=tn.ZP.div(i||(i=(0,nn.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  @media (min-width: 768px) {\n    margin-right: 16px;\n  }\n"]))),rn=tn.ZP.div(r||(r=(0,nn.Z)(["\n  display: flex;\n  align-items: center;\n"]))),on=tn.ZP.div(o||(o=(0,nn.Z)(["\n  display: flex;\n  gap: 16px;\n"]))),an=tn.ZP.img(a||(a=(0,nn.Z)(["\n  width: 48px;\n  height: 67px;\n  max-width: none;\n  @media (min-width: 768px) {\n    width: 160px;\n    height: 208px;\n  }\n"]))),cn=tn.ZP.div(c||(c=(0,nn.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 9px;\n  width: 51px;\n  color: #000;\n  text-align: left;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 300;\n  line-height: normal;\n  @media (min-width: 768px) {\n    width: 120px;\n    gap: 15px;\n    font-size: 24px;\n  }\n"]))),dn=tn.ZP.p(d||(d=(0,nn.Z)(["\n  color: #000;\n  font-weight: 400;\n  font-size: 16px;\n  @media (min-width: 768px) {\n    font-size: 24px;\n  }\n"]))),sn=tn.ZP.div(s||(s=(0,nn.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  @media (min-width: 768px) {\n    gap: 15px;\n  }\n"]))),pn=tn.ZP.div(p||(p=(0,nn.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 4px 5px;\n  width: 47px;\n  height: 22px;\n  border: 1px solid #000;\n  font-size: 14px;\n  @media (min-width: 768px) {\n    width: 82px;\n    height: 32px;\n    padding: 8px 13px;\n    font-size: 18px;\n  }\n"]))),ln=tn.ZP.svg(l||(l=(0,nn.Z)(["\n  width: 9px;\n  height: 22px;\n"]))),xn=tn.ZP.p(x||(x=(0,nn.Z)(["\n  color: #000;\n  text-align: center;\n  font-family: Inter;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n  @media (min-width: 768px) {\n    font-size: 24px;\n  }\n"]))),un=tn.ZP.button(u||(u=(0,nn.Z)(["\n  width: 11px;\n  height: 11px;\n  background-color: transparent;\n  border: none;\n  @media (max-width: 767px) {\n    margin-right: 6px;\n  }\n  @media (min-width: 768px) {\n    width: 13px;\n    height: 13px;\n  }\n"]))),fn=tn.ZP.svg(f||(f=(0,nn.Z)(["\n  width: 11px;\n  height: 11px;\n  @media (min-width: 768px) {\n    width: 13px;\n    height: 13px;\n  }\n"]))),hn=tn.ZP.p(h||(h=(0,nn.Z)(["\n  color: ",";\n  font-size: ",";\n  padding-top: ",";\n  @media (max-width: 767px) {\n    font-size: ",";\n  }\n"])),(function(n){return n.color}),(function(n){return n.fontSize}),(function(n){return n.$paddingTop}),(function(n){return n.mobFont?"6px":"inherit"})),mn=(tn.ZP.div(m||(m=(0,nn.Z)(["\n  display: flex;\n  align-items: center;\n"]))),tn.ZP.div(g||(g=(0,nn.Z)(["\n  display: flex;\n  flex-direction: column;\n"])))),gn=tn.ZP.div(Z||(Z=(0,nn.Z)(["\n  font-size: 14px;\n  @media (min-width: 768px) {\n    font-size: 18px;\n  }\n"]))),Zn=e(184),bn=function(n){var t=n.item,e=n.decreaseProductQuantity,i=n.increaseProductQuantity,r=n.availableQuantity,o=n.isLoading,a=n.initialLoad,c=(0,W.G)().isMobileScreen,d=(0,O.I0)(),s=(0,Y.TH)(),p=function(){var n=(0,H.Z)((0,G.Z)().mark((function n(t){return(0,G.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d((0,J.x$)(t));case 2:return n.next=4,d((0,J.dv)());case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),l=r>0,x=1===r,u=r===t.quantity;return console.log("isMaxAvailableQunatity:",u),console.log("isOneProductAvalable:",x),(0,Zn.jsxs)(en,{children:[(0,Zn.jsxs)(rn,{children:[c&&(0,Zn.jsx)(un,{type:"button",onClick:function(){return p(t.sku.id)},children:(0,Zn.jsx)(fn,{children:(0,Zn.jsx)("use",{href:"".concat(X.Z,"#icon-cross")})})}),(0,Zn.jsxs)(on,{children:[(0,Zn.jsx)(N.rU,{to:"/catalog/".concat(t.productId),state:{from:s},children:(0,Zn.jsx)(an,{src:t.photoUrl,alt:(0,V.$)(t.productTitle),loading:"lazy"})}),(0,Zn.jsxs)(cn,{children:[(0,Zn.jsx)(N.rU,{to:"/catalog/".concat(t.productId),state:{from:s},children:c?(0,Zn.jsx)(dn,{children:(0,V.$)(t.productTitle,8)}):(0,Zn.jsx)(dn,{children:(0,V.$)(t.productTitle,15)})}),t.sku.characteristics&&(0,Zn.jsxs)(sn,{children:[(0,Zn.jsx)("p",{children:t.sku.characteristics[1].name}),(0,Zn.jsx)("p",{children:t.sku.characteristics[0].name})]})]})]})]}),o||a||r?null:(0,Zn.jsx)(hn,{color:"red",fontSize:"24px",children:"\u041d\u0430\u0440\u0430\u0437\u0456 \u0442\u043e\u0432\u0430\u0440 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0439"}),l&&(0,Zn.jsxs)(mn,{children:[(0,Zn.jsxs)(pn,{children:[(0,Zn.jsx)("span",{onClick:function(){return e(t.productId)},children:(0,Zn.jsx)(ln,{children:(0,Zn.jsx)("use",{href:"".concat(X.Z,"#icon-minus")})})}),t.quantity,(0,Zn.jsx)("span",{onClick:function(){return i(t.productId)},children:(0,Zn.jsx)(ln,{children:(0,Zn.jsx)("use",{href:"".concat(X.Z,"#icon-plus")})})})]}),u||x?(0,Zn.jsxs)(hn,{$paddingTop:"6px",color:"#4C4B4B",fontSize:"12px",mobFont:!0,children:["\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c: ",r]}):null]}),l&&(0,Zn.jsx)(gn,{children:(0,Zn.jsxs)(xn,{children:[(0,R.T)(t.amount)," ",t.currencyCode]})}),!c&&(0,Zn.jsx)(un,{type:"button",onClick:function(){return p(t.sku.id)},children:(0,Zn.jsx)(fn,{children:(0,Zn.jsx)("use",{href:"".concat(X.Z,"#icon-cross")})})})]})},vn=tn.ZP.div(b||(b=(0,nn.Z)(["\n  width: max-content;\n  padding: 30px 40px;\n  margin-top: 115px;\n  margin-left: auto;\n  background-color: #f0f0f0;\n  @media (min-width: 768px) {\n    padding: 84px 104px;\n    margin-top: 36px;\n  }\n"]))),yn=tn.ZP.div(v||(v=(0,nn.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 31px;\n  color: #757575;\n  font-size: 14px;\n  @media (min-width: 768px) {\n    color: #000;\n    font-size: 18px;\n  }\n"]))),jn=tn.ZP.p(y||(y=(0,nn.Z)(["\n  text-align: right;\n"]))),wn=tn.ZP.div(j||(j=(0,nn.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 61px;\n  color: #000;\n  font-size: 18px;\n  font-weight: 600px;\n  @media (min-width: 768px) {\n    font-size: 24px;\n  }\n"]))),kn=tn.ZP.div(w||(w=(0,nn.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  @media (min-width: 768px) {\n    gap: 14px;\n  }\n"]))),Pn=(0,tn.ZP)(N.rU)(k||(k=(0,nn.Z)(["\n  display: flex;\n  justify-content: center;\n  color: #fff;\n  background-color: #0e0e0e;\n  font-size: 16px;\n  padding: 10px 12px;\n  border: 1px solid #191919;\n  @media (min-width: 768px) {\n    padding: 16px 64px;\n    font-size: 22px;\n  }\n"]))),zn=(0,tn.ZP)(N.rU)(P||(P=(0,nn.Z)(["\n  display: flex;\n  justify-content: center;\n  color: #191919;\n  font-size: 16px;\n  padding: 10px 12px;\n  border: 1px solid #191919;\n  @media (min-width: 768px) {\n    padding: 16px 64px;\n    font-size: 22px;\n  }\n"]))),In=function(n){var t=n.data,e=n.unavailableProductQuantity,i=n.invalidQuantity,r=(0,Y.TH)();return(0,Zn.jsxs)(vn,{children:[(0,Zn.jsxs)(yn,{children:[(0,Zn.jsxs)("p",{children:["\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c",(0,Zn.jsx)("br",{})," \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"]}),(0,Zn.jsxs)(jn,{children:["\u0417\u0430 \u0442\u0430\u0440\u0438\u0444\u0430\u043c\u0438",(0,Zn.jsx)("br",{})," \u043f\u0435\u0440\u0435\u0432\u0456\u0437\u043d\u0438\u043a\u0430"]})]}),(0,Zn.jsxs)(wn,{children:[(0,Zn.jsx)("p",{children:"\u0421\u0443\u043c\u0430 "}),(0,Zn.jsxs)("p",{children:[(0,R.T)(t.totalAmount)," ",t.currencyCode]})]}),(0,Zn.jsxs)(kn,{children:[e||i?(0,Zn.jsx)(Pn,{disabled:!0,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}):(0,Zn.jsx)(Pn,{to:"/order",state:{from:r,sessionId:null===t||void 0===t?void 0:t.sessionId},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,Zn.jsx)(zn,{to:"/catalog",state:{from:r},children:"\u041f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438 \u043f\u043e\u043a\u0443\u043f\u043a\u0443"})]})]})},Qn=e(1454),Cn=e(2894),qn=tn.ZP.div(z||(z=(0,nn.Z)(["\n  /* display: flex;\n  flex-direction: column; */\n  padding: 128px 28px 0 28px;\n  margin-bottom: 646px;\n  @media (min-width: 768px) {\n    padding: 174px 40px 0 40px;\n  }\n\n  ","\n"])),(function(n){return"empty"===n.type&&(0,tn.iv)(I||(I=(0,nn.Z)(["\n      margin-bottom: 250px;\n    "])))})),Sn=tn.ZP.div(Q||(Q=(0,nn.Z)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n"]))),Tn=tn.ZP.div(C||(C=(0,nn.Z)(["\n  width: 1px;\n  height: 16px;\n  margin: 0 31px;\n  background-color: #000;\n"]))),Un=(0,tn.ZP)(N.rU)(q||(q=(0,nn.Z)(["\n  font-size: 15px;\n  color: #000;\n  @media (min-width: 768px) {\n    font-size: 22px;\n  }\n"]))),En=tn.ZP.div(S||(S=(0,nn.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),$n=tn.ZP.div(T||(T=(0,nn.Z)(["\n  display: flex;\n  justify-content: space-around;\n  margin-bottom: 18px;\n  padding-left: 36px;\n  color: #737373;\n  text-align: center;\n  font-family: Gill Sans;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: normal;\n  @media (min-width: 768px) {\n    justify-content: space-between;\n    padding-left: 240px;\n    font-size: 32px;\n    color: #000;\n  }\n"]))),Ln=tn.ZP.p(U||(U=(0,nn.Z)(["\n  /* margin-right: 44px;\n  @media (min-width: 768px) {\n    margin-right: 610px;\n  } */\n"]))),Bn=tn.ZP.p(E||(E=(0,nn.Z)(["\n  /* margin-right: 38px;\n  @media (min-width: 768px) {\n    margin-right: 113px;\n  } */\n"]))),_n=tn.ZP.div($||($=(0,nn.Z)(["\n  padding: 29px 0;\n  border-top: 1px solid #686868;\n  @media (min-width: 768px) {\n    border-bottom: 1px solid #686868;\n  }\n"]))),An=tn.ZP.ul(L||(L=(0,nn.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 37px;\n  max-height: 507px;\n  overflow-y: auto;\n  flex-shrink: 0;\n  /* -webkit-overflow-scrolling: touch; */\n\n  /* IE and Edge: */\n  -ms-overflow-style: none;\n  &::-ms-scrollbar-thumb {\n    background-color: #888;\n  }\n  &::-ms-scrollbar-track {\n    background-color: #f1f1f1;\n  }\n\n  /* Firefox: */\n  scrollbar-width: thin;\n  scrollbar-color: #888 #f1f1f1;\n  scroll-behavior: smooth;\n\n  /* Chrome and Safari: */\n  &::-webkit-scrollbar {\n    width: 6px;\n    @media (min-width: 768px) {\n      width: 12px;\n    }\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: #888;\n    border-radius: 6px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background-color: #f1f1f1;\n    border-radius: 6px;\n  }\n"]))),Fn=tn.ZP.div(B||(B=(0,nn.Z)(["\n  display: flex;\n  justify-content: right;\n  margin-bottom: 40px;\n"]))),Gn=tn.ZP.button(_||(_=(0,nn.Z)(["\n  padding: 8px 10px;\n  color: #ffffff;\n  background-color: #000000;\n  border: none;\n  font-size: 12px;\n  @media (min-width: 768px) {\n    font-size: 18px;\n  }\n"]))),Hn=tn.ZP.div(A||(A=(0,nn.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 4px;\n  margin-top: 150px;\n  color: #191919;\n  font-size: 18px;\n  @media (min-width: 768px) {\n    font-size: 22px;\n  }\n"]))),Mn=(0,tn.ZP)(N.rU)(F||(F=(0,nn.Z)(["\n  color: #191919;\n  font-size: 18px;\n  font-weight: bold;\n  &:hover {\n    text-decoration: underline;\n  }\n  @media (min-width: 768px) {\n    font-size: 22px;\n  }\n"]))),Kn=function(){var n=(0,K.useState)([]),t=(0,M.Z)(n,2),e=t[0],i=t[1],r=(0,K.useState)({}),o=(0,M.Z)(r,2),a=o[0],c=o[1],d=(0,K.useState)(!0),s=(0,M.Z)(d,2),p=s[0],l=s[1],x=(0,W.G)().isMobileScreen,u=(0,O.I0)(),f=(0,Y.TH)(),h=localStorage.getItem("userUid"),m=(0,O.v9)(Cn.KY),g=(0,O.v9)(Cn.pZ),Z=(0,O.v9)(Cn.wU),b=e&&e.some((function(n){return 0===a[n.productId]})),v=e&&e.some((function(n){return a[n.productId]<n.quantity})),y=(0,K.useCallback)((function(){try{u((0,J.dv)())}catch(n){console.error("Error fetching data:",n)}}),[u]);(0,K.useEffect)((function(){y()}),[y]),(0,K.useEffect)((function(){i(m.items);var n=function(){var n=(0,H.Z)((0,G.Z)().mark((function n(t){var e,i,r;return(0,G.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,D.Z.get("/products/".concat(t));case 3:if(e=n.sent,!(i=m.items.find((function(n){return n.productId===t})))){n.next=12;break}if(!(r=e.data.skuSet.find((function(n){return n.id===i.sku.id})))){n.next=11;break}return n.abrupt("return",{productId:t,availableQuantity:r.availableQuantity});case 11:return n.abrupt("return",{productId:t,availableQuantity:0});case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.error(n.t0);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(t){return n.apply(this,arguments)}}(),t=function(){var t=(0,H.Z)((0,G.Z)().mark((function t(){var e,i,r;return(0,G.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!m.items){t.next=9;break}return e=m.items.map(function(){var t=(0,H.Z)((0,G.Z)().mark((function t(e){return(0,G.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n(e.productId));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),t.next=5,Promise.all(e);case 5:i=t.sent,r=i.reduce((function(n,t){return n[t.productId]=t.availableQuantity,n}),{}),c(r),l(!1);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();t()}),[m,u]);var j=function(){var n=(0,H.Z)((0,G.Z)().mark((function n(t){var i,r,o,c,d;return(0,G.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=e.find((function(n){return n.productId===t})),r=i.quantity+1,o=r-i.quantity,c=a[i.productId],!(i&&r<=c)){n.next=18;break}return d={sessionId:h,skuId:i.sku.id,price:i.price,quantity:o,amount:i.price*o},n.prev=6,n.next=9,u((0,J.Bk)(d));case 9:return n.next=11,y();case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(6),console.error("Error updating product quantity:",n.t0);case 16:n.next=19;break;case 18:return n.abrupt("return");case 19:case"end":return n.stop()}}),n,null,[[6,13]])})));return function(t){return n.apply(this,arguments)}}(),w=function(){var n=(0,H.Z)((0,G.Z)().mark((function n(t){var i,r,o,a;return(0,G.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=e.find((function(n){return n.productId===t})),r=i.quantity-1,o=r-i.quantity,!(i&&i.quantity>1)){n.next=17;break}return a={sessionId:h,skuId:i.sku.id,price:i.price,quantity:o,amount:i.price*o},n.prev=5,n.next=8,u((0,J.Bk)(a));case 8:return n.next=10,y();case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),console.error("Error updating product quantity:",n.t0);case 15:n.next=18;break;case 17:return n.abrupt("return");case 18:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(t){return n.apply(this,arguments)}}(),k=function(){u((0,J.LL)())};return(0,Zn.jsxs)(qn,{type:"empty",children:[(0,Zn.jsxs)(Sn,{children:[(0,Zn.jsx)(Un,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),(0,Zn.jsx)(Tn,{}),(0,Zn.jsx)(Un,{to:"/cart",children:"\u041a\u043e\u0448\u0438\u043a"})]}),Z?(0,Zn.jsx)(Qn.a,{}):g?(0,Zn.jsxs)("div",{children:[(0,Zn.jsxs)(En,{children:[x&&(0,Zn.jsx)(Fn,{children:(0,Zn.jsx)(Gn,{onClick:k,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0438 \u043a\u043e\u0448\u0438\u043a"})}),(0,Zn.jsxs)($n,{children:[(0,Zn.jsx)(Ln,{children:"\u0422\u043e\u0432\u0430\u0440"}),(0,Zn.jsx)(Bn,{children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c"}),(0,Zn.jsx)("p",{children:"\u0426\u0456\u043d\u0430"}),!x&&(0,Zn.jsx)(Gn,{onClick:k,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0438 \u043a\u043e\u0448\u0438\u043a"})]}),(0,Zn.jsx)(_n,{children:(0,Zn.jsx)(An,{children:(null===e||void 0===e?void 0:e.length)>0&&e.map((function(n){return(0,Zn.jsx)("li",{children:(0,Zn.jsx)(bn,{item:n,increaseProductQuantity:j,decreaseProductQuantity:w,availableQuantity:a[n.productId],isLoading:Z,initialLoad:p})},n.sku.id)}))})})]}),(0,Zn.jsx)(In,{data:m,unavailableProductQuantity:b,invalidQuantity:v})]}):(0,Zn.jsxs)(Hn,{children:[(0,Zn.jsx)("p",{children:"\u0412\u0430\u0448 \u043a\u043e\u0448\u0438\u043a \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u0439."}),(0,Zn.jsx)(Mn,{to:"/catalog",state:{from:f},children:"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044f \u0434\u043e \u043f\u043e\u043a\u0443\u043f\u043e\u043a"})]})]})},On=function(){return(0,Zn.jsx)("div",{children:(0,Zn.jsx)(Kn,{})})}},8379:function(n,t,e){e.d(t,{$:function(){return i}});var i=function(n,t){return n.length>t?n.substring(0,t-3)+"...":n}}}]);
//# sourceMappingURL=41.42bbb1bd.chunk.js.map