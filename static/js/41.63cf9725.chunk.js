"use strict";(self.webpackChunkclothing_store_app=self.webpackChunkclothing_store_app||[]).push([[41],{5041:function(n,t,e){e.r(t),e.d(t,{default:function(){return ht}});var i,r,o,a,c,d,s,l,p,x,u,h,f,m,g,b,Z,w,v,j,y,k,P,z,I,$,q,Q,S,C,T,B,U,E,L,F,_,A,D,H,G,M,K,Y,J,N,O,R,V,W=e(4165),X=e(5861),nn=e(9439),tn=e(2791),en=e(9434),rn=e(7689),on=e(1243),an=e(8117),cn=e(1087),dn=e(6565),sn=e(8379),ln=e(4305),pn=e(7609),xn=e(168),un=e(5867),hn=un.ZP.div(i||(i=(0,xn.Z)(["\n  @media (min-width: 1022px) {\n    padding-right: 115px;\n  }\n"]))),fn=un.ZP.div(r||(r=(0,xn.Z)(["\n  @media (min-width: 768px) {\n    display: flex;\n    align-items: top;\n    justify-content: space-between;\n  }\n"]))),mn=un.ZP.div(o||(o=(0,xn.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 12px;\n"]))),gn=un.ZP.p(a||(a=(0,xn.Z)(["\n  margin-bottom: ",";\n  color: #160b03;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 140%;\n"])),(function(n){return n.$text?"14px":"0"})),bn=un.ZP.div(c||(c=(0,xn.Z)(["\n  margin-bottom: 13px;\n  @media (min-width: 768px) {\n    margin-bottom: 0;\n  }\n"]))),Zn=un.ZP.div(d||(d=(0,xn.Z)(["\n  display: flex;\n  @media (max-width: 768px) {\n    justify-content: space-between;\n  }\n"]))),wn=un.ZP.div(s||(s=(0,xn.Z)(["\n  display: flex;\n  gap: 16px;\n  @media (min-width: 768px) {\n    gap: 24px;\n  }\n"]))),vn=un.ZP.img(l||(l=(0,xn.Z)(["\n  width: 48px;\n  height: 67px;\n  max-width: none;\n  @media (min-width: 768px) {\n    width: 206px;\n    height: 234px;\n  }\n"]))),jn=un.ZP.div(p||(p=(0,xn.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 2px;\n  width: 51px;\n  text-align: left;\n  @media (min-width: 1022px) {\n    /* width: max-content; */\n    width: 230px;\n    gap: 14px;\n  }\n"]))),yn=un.ZP.p(x||(x=(0,xn.Z)(["\n  color: #160b03;\n  font-weight: 400;\n  font-size: 18px;\n  line-height: 140%;\n  @media (min-width: 768px) {\n    font-size: 22px;\n    line-height: 130%;\n  }\n"]))),kn=un.ZP.div(u||(u=(0,xn.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  color: #3f3831;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 140%;\n  @media (min-width: 768px) {\n    gap: 6px;\n    font-size: 18px;\n  }\n"]))),Pn=un.ZP.div(h||(h=(0,xn.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  @media (min-width: 768px) {\n    flex-direction: column;\n    justify-content: center;\n  }\n"]))),zn=un.ZP.div(f||(f=(0,xn.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px 19px;\n  width: 74px;\n  border: 1px solid #160b03;\n  font-size: 18px;\n  font-weight: 400;\n  line-height: 140%;\n"]))),In=un.ZP.span(m||(m=(0,xn.Z)(["\n  padding: 0;\n  background-color: transparent;\n  border: none;\n  fill: ",";\n"])),(function(n){return"true"===n.$case?"#9D9A97":"#160B03"})),$n=un.ZP.span(g||(g=(0,xn.Z)(["\n  padding: 0;\n  background-color: transparent;\n  border: none;\n  fill: ",";\n"])),(function(n){return"true"===n.$case?"#9D9A97":"#160B03"})),qn=un.ZP.svg(b||(b=(0,xn.Z)(["\n  width: 9px;\n  height: 22px;\n  &:hover,\n  &:focus {\n    fill: '#160B03';\n  }\n"]))),Qn=un.ZP.div(Z||(Z=(0,xn.Z)(["\n  display: flex;\n  align-items: center;\n"]))),Sn=un.ZP.p(w||(w=(0,xn.Z)(["\n  color: #3f3831;\n  text-align: center;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 140%;\n  @media (min-width: 768px) {\n    font-size: 18px;\n  }\n"]))),Cn=un.ZP.button(v||(v=(0,xn.Z)(["\n  width: 24px;\n  height: 24px;\n  background-color: transparent;\n  border: none;\n"]))),Tn=un.ZP.svg(j||(j=(0,xn.Z)(["\n  width: 24px;\n  height: 24px;\n  fill: #160b03;\n  &:hover,\n  &:focus {\n    fill: #3f3831;\n  }\n"]))),Bn=un.ZP.p(y||(y=(0,xn.Z)(["\n  color: ",";\n  font-size: ",";\n  padding-top: ",";\n  @media (max-width: 767px) {\n    font-size: ",";\n  }\n"])),(function(n){return n.color}),(function(n){return n.fontSize}),(function(n){return n.$paddingTop}),(function(n){return n.$mobFont?"8px":"inherit"})),Un=(un.ZP.div(k||(k=(0,xn.Z)(["\n  display: flex;\n  align-items: center;\n"]))),un.ZP.div(P||(P=(0,xn.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"])))),En=e(184),Ln=function(n){var t=n.item,e=n.decreaseProductQuantity,i=n.increaseProductQuantity,r=n.availableQuantity,o=n.isLoading,a=n.initialLoad,c=(0,ln.G)(),d=c.isMobileScreen,s=c.isDesktopScreen,l=(0,en.I0)(),p=(0,rn.TH)(),x=function(){var n=(0,X.Z)((0,W.Z)().mark((function n(t){return(0,W.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l((0,an.x$)(t));case 2:return n.next=4,l((0,an.dv)());case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),u=r>0,h=1===r,f=r===t.quantity,m=t.quantity>r;return(0,En.jsx)(hn,{children:(0,En.jsxs)(fn,{children:[d&&(0,En.jsx)(gn,{$text:"text",children:"\u0422\u043e\u0432\u0430\u0440"}),(0,En.jsx)(bn,{children:(0,En.jsxs)(Zn,{children:[(0,En.jsxs)(wn,{children:[(0,En.jsx)(cn.rU,{to:"/catalog/".concat(t.productId),state:{from:p},children:(0,En.jsx)(vn,{src:t.photoUrl,alt:(0,sn.$)(t.productTitle),loading:"lazy"})}),(0,En.jsxs)(jn,{children:[(0,En.jsx)(cn.rU,{to:"/catalog/".concat(t.productId),state:{from:p},children:s?(0,En.jsx)(yn,{children:(0,sn.$)(t.productTitle,20)}):(0,En.jsx)(yn,{children:(0,sn.$)(t.productTitle,8)})}),t.sku.characteristics&&(0,En.jsxs)(kn,{children:[(0,En.jsx)("p",{children:t.sku.characteristics[1].name}),(0,En.jsx)("p",{children:t.sku.characteristics[0].name})]})]})]}),d&&(0,En.jsx)(Cn,{type:"button",onClick:function(){return x(t.sku.id)},children:(0,En.jsx)(Tn,{children:(0,En.jsx)("use",{href:"".concat(pn.Z,"#icon-cross")})})})]})}),o||a||r?null:(0,En.jsx)(Bn,{color:"red",fontSize:"24px",children:"\u041d\u0430\u0440\u0430\u0437\u0456 \u0442\u043e\u0432\u0430\u0440 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0439"}),u&&(0,En.jsxs)(Pn,{children:[d&&(0,En.jsxs)(mn,{children:[(0,En.jsx)(gn,{children:"\u041a\u0456\u043b\u044c-\u0442\u044c"}),(0,En.jsx)(gn,{children:"\u0426\u0456\u043d\u0430"})]}),(0,En.jsxs)(Un,{children:[(0,En.jsxs)(zn,{children:[(0,En.jsx)(In,{type:"button",onClick:function(){return e(t.sku.id)},$case:(1===t.quantity&&t.quantity<=r).toString(),children:(0,En.jsx)(qn,{children:(0,En.jsx)("use",{href:"".concat(pn.Z,"#icon-minus")})})}),t.quantity,(0,En.jsx)($n,{type:"button",onClick:function(){return i(t.sku.id)},$case:(t.quantity>=r).toString(),children:(0,En.jsx)(qn,{children:(0,En.jsx)("use",{href:"".concat(pn.Z,"#icon-plus")})})})]}),d&&(0,En.jsxs)(Sn,{children:[(0,dn.T)(t.amount)," ",t.currencyCode]})]}),!d&&(0,En.jsx)("div",{children:f||h||m?(0,En.jsxs)(Bn,{$paddingTop:"6px",color:"#4C4B4B",fontSize:"12px",$mobFont:!0,children:["\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c: ",r]}):null})]}),!d&&(0,En.jsx)(Qn,{children:(0,En.jsxs)(Sn,{children:[(0,dn.T)(t.amount)," ",t.currencyCode]})}),d&&(0,En.jsx)("div",{children:f||h||m?(0,En.jsxs)(Bn,{$paddingTop:"6px",color:"#4C4B4B",fontSize:"12px",$mobFont:!0,children:["\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c: ",r]}):null}),!d&&(0,En.jsx)("div",{children:(0,En.jsx)(Cn,{type:"button",onClick:function(){return x(t.sku.id)},children:(0,En.jsx)(Tn,{children:(0,En.jsx)("use",{href:"".concat(pn.Z,"#icon-cross")})})})})]})})},Fn=un.ZP.div(z||(z=(0,xn.Z)(["\n  box-sizing: content-box;\n  padding: 32px 70px 42px;\n  margin-left: auto;\n  background-color: #f0f0f0;\n  @media (min-width: 768px) {\n    width: max-content;\n    padding: 48px 60px 50px;\n  }\n"]))),_n=un.ZP.div(I||(I=(0,xn.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 31px;\n  color: #160b03;\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 130%;\n  @media (min-width: 768px) {\n    font-size: 14px;\n  }\n"]))),An=un.ZP.p($||($=(0,xn.Z)(["\n  text-align: right;\n"]))),Dn=un.ZP.div(q||(q=(0,xn.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 23px;\n  color: #160b03;\n  @media (min-width: 768px) {\n    margin-bottom: 28px;\n  }\n"]))),Hn=un.ZP.p(Q||(Q=(0,xn.Z)(["\n  font-size: 18px;\n  font-weight: 400px;\n  line-height: 140%;\n  @media (min-width: 768px) {\n    font-size: 22px;\n    line-height: 130%;\n  }\n"]))),Gn=un.ZP.p(S||(S=(0,xn.Z)(["\n  font-size: 16px;\n  font-weight: 400;\n  line-height: 130%;\n  @media (min-width: 768px) {\n    font-size: 18px;\n    line-height: 140%;\n  }\n"]))),Mn=un.ZP.div(C||(C=(0,xn.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n\n  @media (min-width: 768px) {\n    gap: 12px;\n    width: max-content;\n  }\n"]))),Kn=(0,un.ZP)(cn.rU)(T||(T=(0,xn.Z)(["\n  padding: 16px 7px;\n  border: 1px solid #160b03;\n  border-radius: 1px;\n  color: #fff;\n  background-color: #160b03;\n  font-size: 16px;\n  font-weight: 400;\n  line-height: 130%;\n  text-align: center;\n  @media (min-width: 768px) {\n    padding: 9px 46px;\n    line-height: 140%;\n  }\n  &:hover,\n  focus {\n    background-color: #3f3831;\n    border-color: #3f3831;\n  }\n"]))),Yn=(0,un.ZP)(cn.rU)(B||(B=(0,xn.Z)(["\n  padding: 10px 12px;\n  border: 1px solid #160b03;\n  border-radius: 1px;\n  color: #160b03;\n  background-color: #fff;\n  font-size: 16px;\n  font-weight: 400;\n  line-height: 130%;\n  text-align: center;\n  @media (min-width: 768px) {\n    padding: 9px 46px;\n    line-height: 140%;\n  }\n  &:hover,\n  focus {\n    color: #fff;\n    background-color: #160b03;\n    border-color: #160b03;\n  }\n"]))),Jn=function(n){var t=n.data,e=n.unavailableProductQuantity,i=n.invalidQuantity,r=(0,rn.TH)();return(0,En.jsxs)(Fn,{children:[(0,En.jsxs)(_n,{children:[(0,En.jsxs)("p",{children:["\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c",(0,En.jsx)("br",{})," \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"]}),(0,En.jsxs)(An,{children:["\u0417\u0430 \u0442\u0430\u0440\u0438\u0444\u0430\u043c\u0438",(0,En.jsx)("br",{})," \u043f\u0435\u0440\u0435\u0432\u0456\u0437\u043d\u0438\u043a\u0430"]})]}),(0,En.jsxs)(Dn,{children:[(0,En.jsx)(Hn,{children:"\u0420\u0430\u0437\u043e\u043c "}),(0,En.jsxs)(Gn,{children:[(0,dn.T)(t.totalAmount)," ",t.currencyCode]})]}),(0,En.jsxs)(Mn,{children:[e||i?(0,En.jsx)(Kn,{disabled:!0,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}):(0,En.jsx)(Kn,{to:"/order",state:{from:r,sessionId:null===t||void 0===t?void 0:t.sessionId},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,En.jsx)(Yn,{to:"/catalog",state:{from:r},children:"\u041f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438 \u043f\u043e\u043a\u0443\u043f\u043a\u0438"})]})]})},Nn=e(1454),On=e(2894),Rn=un.ZP.div(U||(U=(0,xn.Z)(["\n  margin-bottom: 80px;\n  @media (min-width: 768px) {\n    max-width: 1440px;\n    box-sizing: border-box;\n    margin: 0 auto 124px;\n  }\n"]))),Vn=un.ZP.div(E||(E=(0,xn.Z)(["\n  padding: 124px 28px 0 28px;\n  @media (min-width: 768px) {\n    padding: 170px 40px 0 40px;\n  }\n"]))),Wn=un.ZP.div(L||(L=(0,xn.Z)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 24px;\n  @media (min-width: 768px) {\n    margin-bottom: 52px;\n  }\n"]))),Xn=un.ZP.div(F||(F=(0,xn.Z)(["\n  width: 1px;\n  height: 16px;\n  margin: 0 18px;\n  background-color: #160b03;\n  @media (min-width: 768px) {\n    margin: 0 24px;\n  }\n"]))),nt=(0,un.ZP)(cn.rU)(_||(_=(0,xn.Z)(["\n  color: #160b03;\n  font-size: 18px;\n  line-height: 140%;\n  &:hover,\n  &:focus {\n    color: #9d9a97;\n  }\n  &:last-child {\n    color: #9d9a97;\n  }\n  @media (min-width: 768px) {\n    font-size: 22px;\n    line-height: 130%;\n  }\n"]))),tt=un.ZP.div(A||(A=(0,xn.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),et=un.ZP.div(D||(D=(0,xn.Z)(["\n  display: flex;\n  margin-bottom: 24px;\n  color: #000;\n  font-size: 26px;\n  font-weight: 400;\n  line-height: 140%;\n"]))),it=un.ZP.p(H||(H=(0,xn.Z)(["\n  @media screen and (min-width: 768px) and (max-width: 1439px) {\n    margin-right: 32vw;\n  }\n  @media (min-width: 1440px) {\n    margin-right: 555px;\n  }\n"]))),rt=un.ZP.div(G||(G=(0,xn.Z)(["\n  display: flex;\n  @media screen and (min-width: 768px) and (max-width: 1439px) {\n    justify-content: space-around;\n    gap: 14vw;\n  }\n"]))),ot=un.ZP.p(M||(M=(0,xn.Z)(["\n  @media (min-width: 1440px) {\n    margin-right: 180px;\n  }\n"]))),at=un.ZP.div(K||(K=(0,xn.Z)(["\n  margin-bottom: 12px;\n  @media (min-width: 768px) {\n    margin-bottom: 18px;\n  }\n"]))),ct=un.ZP.ul(Y||(Y=(0,xn.Z)(["\n  max-height: 465px;\n  overflow-y: auto;\n  flex-shrink: 0;\n  @media (min-width: 768px) {\n    max-height: 540px;\n  }\n  /* -webkit-overflow-scrolling: touch; */\n\n  /* IE and Edge: */\n  -ms-overflow-style: none;\n  &::-ms-scrollbar-thumb {\n    background-color: #888;\n  }\n  &::-ms-scrollbar-track {\n    background-color: #f1f1f1;\n  }\n\n  /* Firefox: */\n  scrollbar-width: thin;\n  scrollbar-color: #888 #f1f1f1;\n  scroll-behavior: smooth;\n\n  /* Chrome and Safari: */\n  &::-webkit-scrollbar {\n    width: 6px;\n    @media (min-width: 768px) {\n      width: 12px;\n    }\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: #888;\n    border-radius: 6px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background-color: #f1f1f1;\n    border-radius: 6px;\n  }\n"]))),dt=un.ZP.li(J||(J=(0,xn.Z)(["\n  padding: 24px 0;\n  border-bottom: 1px solid #e3e0de;\n  &:first-child {\n    border-top: 1px solid #e3e0de;\n  }\n"]))),st=un.ZP.div(N||(N=(0,xn.Z)(["\n  display: flex;\n  justify-content: right;\n  margin-bottom: 44px;\n  @media (min-width: 768px) {\n    margin-bottom: 24px;\n  }\n"]))),lt=un.ZP.button(O||(O=(0,xn.Z)(["\n  padding: 0;\n  color: #000000;\n  background-color: transparent;\n  border: none;\n  border-bottom: 1px solid #000000;\n  font-size: 14px;\n  line-height: 140%;\n  @media (min-width: 768px) {\n    font-size: 16px;\n  }\n"]))),pt=un.ZP.div(R||(R=(0,xn.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 4px;\n  margin-top: 150px;\n  color: #160b03;\n  font-size: 18px;\n  line-height: 23.4px;\n  @media (min-width: 768px) {\n    flex-direction: row;\n    font-size: 22px;\n    line-height: 28.6px;\n  }\n"]))),xt=(0,un.ZP)(cn.rU)(V||(V=(0,xn.Z)(["\n  color: #160b03;\n  font-size: 18px;\n  font-weight: 700;\n  line-height: 23.4px;\n\n  &:hover {\n    text-decoration: underline;\n  }\n  @media (min-width: 768px) {\n    font-size: 22px;\n    line-height: 28.6px;\n  }\n"]))),ut=function(){var n=(0,tn.useState)([]),t=(0,nn.Z)(n,2),e=t[0],i=t[1],r=(0,tn.useState)({}),o=(0,nn.Z)(r,2),a=o[0],c=o[1],d=(0,tn.useState)(!0),s=(0,nn.Z)(d,2),l=s[0],p=s[1],x=(0,ln.G)().isMobileScreen,u=(0,en.I0)(),h=(0,rn.TH)(),f=localStorage.getItem("userUid"),m=(0,en.v9)(On.KY),g=(0,en.v9)(On.pZ),b=(0,en.v9)(On.wU),Z=e&&e.some((function(n){return 0===a[n.productId]})),w=e&&e.some((function(n){return a[n.productId]<n.quantity})),v=(0,tn.useCallback)((function(){try{u((0,an.dv)())}catch(n){console.error("Error fetching data:",n)}}),[u]);(0,tn.useEffect)((function(){v()}),[v]),(0,tn.useEffect)((function(){i(m.items);var n=function(){var n=(0,X.Z)((0,W.Z)().mark((function n(t){var e,i,r;return(0,W.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,on.Z.get("/products/".concat(t));case 3:if(e=n.sent,!(i=m.items.find((function(n){return n.productId===t})))){n.next=12;break}if(!(r=e.data.skuSet.find((function(n){return n.id===i.sku.id})))){n.next=11;break}return n.abrupt("return",{productId:t,availableQuantity:r.availableQuantity});case 11:return n.abrupt("return",{productId:t,availableQuantity:0});case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.error(n.t0);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(t){return n.apply(this,arguments)}}(),t=function(){var t=(0,X.Z)((0,W.Z)().mark((function t(){var e,i,r;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!m.items){t.next=9;break}return e=m.items.map(function(){var t=(0,X.Z)((0,W.Z)().mark((function t(e){return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n(e.productId));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),t.next=5,Promise.all(e);case 5:i=t.sent,r=i.reduce((function(n,t){return n[t.productId]=t.availableQuantity,n}),{}),c(r),p(!1);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();t()}),[m,u]);var j=function(){var n=(0,X.Z)((0,W.Z)().mark((function n(t){var i,r,o,c,d;return(0,W.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=e.find((function(n){return n.sku.id===t})),r=i.quantity+1,o=r-i.quantity,c=a[i.productId],!(i&&r<=c)){n.next=18;break}return d={sessionId:f,skuId:i.sku.id,price:i.price,quantity:o,amount:i.price*o},n.prev=6,n.next=9,u((0,an.Bk)(d));case 9:return n.next=11,v();case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(6),console.error("Error updating product quantity:",n.t0);case 16:n.next=19;break;case 18:return n.abrupt("return");case 19:case"end":return n.stop()}}),n,null,[[6,13]])})));return function(t){return n.apply(this,arguments)}}(),y=function(){var n=(0,X.Z)((0,W.Z)().mark((function n(t){var i,r,o,a;return(0,W.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=e.find((function(n){return n.sku.id===t})),r=i.quantity-1,o=r-i.quantity,!(i&&i.quantity>1)){n.next=17;break}return a={sessionId:f,skuId:i.sku.id,price:i.price,quantity:o,amount:i.price*o},n.prev=5,n.next=8,u((0,an.Bk)(a));case 8:return n.next=10,v();case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),console.error("Error updating product quantity:",n.t0);case 15:n.next=18;break;case 17:return n.abrupt("return");case 18:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(t){return n.apply(this,arguments)}}(),k=function(){var n=(0,X.Z)((0,W.Z)().mark((function n(){return(0,W.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u((0,an.LL)());case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,En.jsxs)(Rn,{children:[(0,En.jsxs)(Vn,{children:[(0,En.jsxs)(Wn,{children:[(0,En.jsx)(nt,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),(0,En.jsx)(Xn,{}),(0,En.jsx)(nt,{to:"/cart",children:"\u041a\u043e\u0448\u0438\u043a"})]}),b?(0,En.jsx)(Nn.a,{}):g?(0,En.jsxs)("div",{children:[(0,En.jsxs)(tt,{children:[!x&&(0,En.jsxs)(et,{children:[(0,En.jsx)(it,{children:"\u0422\u043e\u0432\u0430\u0440"}),(0,En.jsxs)(rt,{children:[(0,En.jsx)(ot,{children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c"}),(0,En.jsx)("p",{children:"\u0426\u0456\u043d\u0430"})]})]}),(0,En.jsx)(at,{children:(0,En.jsx)(ct,{children:(null===e||void 0===e?void 0:e.length)>0&&e.map((function(n){return(0,En.jsx)(dt,{children:(0,En.jsx)(Ln,{item:n,increaseProductQuantity:j,decreaseProductQuantity:y,availableQuantity:a[n.productId],isLoading:b,initialLoad:l})},n.sku.id)}))})})]}),(0,En.jsx)(st,{children:(0,En.jsx)(lt,{onClick:k,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0438 \u043a\u043e\u0448\u0438\u043a"})}),!x&&(0,En.jsx)(Jn,{data:m,unavailableProductQuantity:Z,invalidQuantity:w})]}):(0,En.jsxs)(pt,{children:[(0,En.jsx)("p",{children:"\u0412\u0430\u0448 \u043a\u043e\u0448\u0438\u043a \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u0439."}),(0,En.jsx)(xt,{to:"/catalog",state:{from:h},children:"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044f \u0434\u043e \u043f\u043e\u043a\u0443\u043f\u043e\u043a"})]})]}),!b&&g>0&&x&&(0,En.jsx)(Jn,{data:m,unavailableProductQuantity:Z,invalidQuantity:w})]})},ht=function(){return(0,En.jsx)("div",{children:(0,En.jsx)(ut,{})})}},8379:function(n,t,e){e.d(t,{$:function(){return i}});var i=function(n,t){return n.length>t?n.substring(0,t-3)+"...":n}}}]);
//# sourceMappingURL=41.63cf9725.chunk.js.map