"use strict";(self.webpackChunkclothing_store_app=self.webpackChunkclothing_store_app||[]).push([[74],{8074:function(n,t,e){e.r(t),e.d(t,{default:function(){return yn}});var r,i,c,o,a,s,d,u,p,l,x,h,f,g,m,Z,v,j,y,b,k,w,P,I,z,C,q=e(4165),Q=e(5861),U=e(9439),T=e(2791),S=e(9434),E=e(7689),B=e(1087),$=e(1243),_=e(8117),L=e(2894),G=e(6565),H=e(8379),A=e(4305),D=e(7609),F=e(168),K=e(5867),M=K.ZP.div(r||(r=(0,F.Z)(["\n  display: flex;\n  align-items: center;\n"]))),R=K.ZP.div(i||(i=(0,F.Z)(["\n  display: flex;\n  gap: 35px;\n  /* width: 493px; */\n  margin-right: 195px;\n"]))),Y=K.ZP.img(c||(c=(0,F.Z)(["\n  width: 48px;\n  height: 67px;\n  @media (min-width: 768px) {\n    width: 206px;\n    height: 234px;\n  }\n"]))),J=K.ZP.div(o||(o=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 15px;\n  width: 250px;\n  color: #000;\n  text-align: left;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 300;\n  line-height: normal;\n  @media (min-width: 768px) {\n    font-size: 24px;\n  }\n"]))),N=K.ZP.p(a||(a=(0,F.Z)(["\n  color: #000;\n  width: max-content;\n  font-weight: 400;\n  font-size: 16px;\n  @media (min-width: 768px) {\n    font-size: 24px;\n  }\n"]))),O=K.ZP.div(s||(s=(0,F.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px 13px;\n  margin-right: 115px;\n  width: 82px;\n  height: 32px;\n  border: 1px solid #000;\n  font-size: 18px;\n"]))),V=K.ZP.svg(d||(d=(0,F.Z)(["\n  width: 9px;\n  height: 22px;\n"]))),W=K.ZP.p(u||(u=(0,F.Z)(["\n  /* margin-right: 219px; */\n  color: #000;\n  text-align: center;\n  font-family: Inter;\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n  @media (min-width: 768px) {\n    font-size: 24px;\n  }\n"]))),X=K.ZP.button(p||(p=(0,F.Z)(["\n  width: 7px;\n  height: 7px;\n  background-color: transparent;\n  border: none;\n  @media (min-width: 768px) {\n    width: 13px;\n    height: 13px;\n  }\n"]))),nn=K.ZP.svg(l||(l=(0,F.Z)(["\n  width: 7px;\n  height: 7px;\n  @media (min-width: 768px) {\n    width: 13px;\n    height: 13px;\n  }\n"]))),tn=e(184),en=function(n){var t=n.item,e=n.decreaseProductQuantity,r=n.increaseProductQuantity,i=n.availableQuantity,c=(0,A.G)().isMobileScreen,o=(0,S.I0)(),a=(0,E.TH)(),s=function(){var n=(0,Q.Z)((0,q.Z)().mark((function n(t){return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o((0,_.x$)(t));case 2:return n.next=4,o((0,_.dv)());case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return(0,tn.jsxs)(M,{children:[c&&(0,tn.jsx)(X,{onClick:function(){return s(t.sku.id)},children:(0,tn.jsx)(nn,{children:(0,tn.jsx)("use",{href:"".concat(D.Z,"#icon-cross")})})}),(0,tn.jsxs)(R,{children:[(0,tn.jsx)(B.rU,{to:"/catalog/".concat(t.productId),state:{from:a},children:(0,tn.jsx)(Y,{src:t.photoUrl,alt:(0,H.$)(t.productTitle),loading:"lazy"})}),(0,tn.jsxs)(J,{children:[(0,tn.jsx)(B.rU,{to:"/catalog/".concat(t.productId),state:{from:a},style:{padding:"0",margin:"0"},children:(0,tn.jsx)(N,{children:(0,H.$)(t.productTitle,15)})}),t.sku.characteristics&&(0,tn.jsxs)("div",{children:[(0,tn.jsx)("p",{children:t.sku.characteristics[1].name}),(0,tn.jsx)("p",{children:t.sku.characteristics[0].name})]})]})]}),(0,tn.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,tn.jsxs)(O,{children:[(0,tn.jsx)("span",{onClick:function(){return e(t.productId)},children:(0,tn.jsx)(V,{children:(0,tn.jsx)("use",{href:"".concat(D.Z,"#icon-minus")})})}),t.quantity,(0,tn.jsx)("span",{onClick:function(){return r(t.productId)},children:(0,tn.jsx)(V,{children:(0,tn.jsx)("use",{href:"".concat(D.Z,"#icon-plus")})})})]}),(0,tn.jsxs)("p",{children:["\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u0443: ",i]})]}),(0,tn.jsx)("div",{style:{width:"130px",marginRight:"180px"},children:(0,tn.jsxs)(W,{children:[(0,G.T)(t.amount)," ",t.currencyCode]})}),!c&&(0,tn.jsx)(X,{onClick:function(){return s(t.sku.id)},children:(0,tn.jsx)(nn,{children:(0,tn.jsx)("use",{href:"".concat(D.Z,"#icon-cross")})})})]})},rn=K.ZP.div(x||(x=(0,F.Z)(["\n  padding: 174px 40px 0 40px;\n  margin-bottom: 646px;\n"]))),cn=K.ZP.div(h||(h=(0,F.Z)(["\n  display: flex;\n  align-items: center;\n"]))),on=K.ZP.div(f||(f=(0,F.Z)(["\n  width: 1px;\n  height: 16px;\n  margin: 0 31px;\n  background-color: #000;\n"]))),an=(0,K.ZP)(B.rU)(g||(g=(0,F.Z)(["\n  font-size: 22px;\n  color: #000;\n"]))),sn=K.ZP.div(m||(m=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 20px;\n"]))),dn=K.ZP.div(Z||(Z=(0,F.Z)(["\n  display: flex;\n  margin-bottom: 18px;\n  color: #000;\n  text-align: center;\n  font-family: Gill Sans;\n  font-size: 32px;\n  font-weight: 400;\n  line-height: normal;\n"]))),un=K.ZP.p(v||(v=(0,F.Z)(["\n  margin-right: 610px;\n"]))),pn=K.ZP.p(j||(j=(0,F.Z)(["\n  margin-right: 113px;\n"]))),ln=K.ZP.ul(y||(y=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 37px;\n  max-height: 507px;\n  padding: 29px 0;\n  /* border-top: 1px solid #686868; */\n  border-bottom: 1px solid #686868;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n"]))),xn=K.ZP.div(b||(b=(0,F.Z)(["\n  width: max-content;\n  padding: 84px 104px;\n  margin-top: 36px;\n  margin-left: auto;\n  background-color: #f0f0f0;\n"]))),hn=K.ZP.div(k||(k=(0,F.Z)(["\n  display: flex;\n  justify-content: space-between;\n  gap: 120px;\n  margin-bottom: 31px;\n  color: #000;\n  font-size: 18px;\n"]))),fn=K.ZP.div(w||(w=(0,F.Z)(["\n  display: flex;\n  justify-content: space-between;\n  gap: 120px;\n  margin-bottom: 61px;\n  color: #000;\n  font-size: 24px;\n  font-weight: 600px;\n"]))),gn=K.ZP.div(P||(P=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 14px;\n  width: 345px;\n"]))),mn=(0,K.ZP)(B.rU)(I||(I=(0,F.Z)(["\n  display: flex;\n  justify-content: center;\n  color: #fff;\n  background-color: #0e0e0e;\n  font-size: 22px;\n  padding: 16px 0;\n  border: 1px solid #191919;\n  width: 345px;\n"]))),Zn=(0,K.ZP)(B.rU)(z||(z=(0,F.Z)(["\n  display: flex;\n  justify-content: center;\n  color: #191919;\n  font-size: 22px;\n  padding: 16px 0;\n  border: 1px solid #191919;\n  width: 345px;\n"]))),vn=K.ZP.div(C||(C=(0,F.Z)(["\n  position: sticky;\n  top: 100px;\n  z-index: 1111;\n  margin-bottom: 29px;\n  background-color: rgb(255, 255, 255);\n  border-bottom: 1px solid #686868;\n"]))),jn=function(){var n=(0,T.useState)([]),t=(0,U.Z)(n,2),e=t[0],r=t[1],i=(0,T.useState)({}),c=(0,U.Z)(i,2),o=c[0],a=c[1],s=(0,S.I0)(),d=(0,E.TH)(),u=localStorage.getItem("userUid"),p=(0,S.v9)(L.KY),l=(0,S.v9)(L.pZ),x=(0,S.v9)(L.wU),h=(0,T.useCallback)((function(){try{s((0,_.dv)())}catch(n){console.error("Error fetching data:",n)}}),[s]);(0,T.useEffect)((function(){h()}),[h]),(0,T.useEffect)((function(){r(p.items);var n=function(){var n=(0,Q.Z)((0,q.Z)().mark((function n(t){var e,r,i;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,$.Z.get("/products/".concat(t));case 3:if(e=n.sent,!(r=p.items.find((function(n){return n.productId===t})))){n.next=12;break}if(!(i=e.data.skuSet.find((function(n){return n.id===r.sku.id})))){n.next=11;break}return n.abrupt("return",{productId:t,availableQuantity:i.availableQuantity});case 11:return n.abrupt("return",{productId:t,availableQuantity:0});case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.error(n.t0);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(t){return n.apply(this,arguments)}}(),t=function(){var t=(0,Q.Z)((0,q.Z)().mark((function t(){var e,r,i;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!p.items){t.next=8;break}return e=p.items.map(function(){var t=(0,Q.Z)((0,q.Z)().mark((function t(e){return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n(e.productId));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),t.next=5,Promise.all(e);case 5:r=t.sent,i=r.reduce((function(n,t){return n[t.productId]=t.availableQuantity,n}),{}),a(i);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();t()}),[p,s]);var f=function(){var n=(0,Q.Z)((0,q.Z)().mark((function n(t){var r,i,c,o;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.find((function(n){return n.productId===t})),i=r.quantity+1,c=i-r.quantity,!r){n.next=17;break}return o={sessionId:u,skuId:r.sku.id,price:r.price,quantity:c,amount:r.price*c},n.prev=5,n.next=8,s((0,_.Bk)(o));case 8:return n.next=10,h();case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),console.error("Error updating product quantity:",n.t0);case 15:n.next=18;break;case 17:return n.abrupt("return");case 18:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(t){return n.apply(this,arguments)}}(),g=function(){var n=(0,Q.Z)((0,q.Z)().mark((function n(t){var r,i,c,o;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.find((function(n){return n.productId===t})),i=r.quantity-1,c=i-r.quantity,!(r&&r.quantity>1)){n.next=17;break}return o={sessionId:u,skuId:r.sku.id,price:r.price,quantity:c,amount:r.price*c},n.prev=5,n.next=8,s((0,_.Bk)(o));case 8:return n.next=10,h();case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),console.error("Error updating product quantity:",n.t0);case 15:n.next=18;break;case 17:return n.abrupt("return");case 18:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(t){return n.apply(this,arguments)}}();return(0,tn.jsxs)(rn,{children:[(0,tn.jsxs)(cn,{children:[(0,tn.jsx)(an,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),(0,tn.jsx)(on,{}),(0,tn.jsx)(an,{to:"/cart",children:"\u041a\u043e\u0448\u0438\u043a"})]}),x?(0,tn.jsx)("p",{children:"Is loading..."}):l?(0,tn.jsxs)("div",{children:[(0,tn.jsxs)(sn,{children:[(0,tn.jsxs)(vn,{children:[(0,tn.jsx)("div",{style:{marginTop:"20px",marginBottom:"20px",marginLeft:"auto"},children:(0,tn.jsx)("button",{style:{padding:0,backgroundColor:"transparent",border:"1px solid #000"},onClick:function(){s((0,_.LL)())},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0438 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})}),(0,tn.jsxs)(dn,{children:[(0,tn.jsx)(un,{children:"\u0422\u043e\u0432\u0430\u0440"}),(0,tn.jsx)(pn,{children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c"}),(0,tn.jsx)("p",{children:"\u0426\u0456\u043d\u0430"})]})]}),(0,tn.jsx)(ln,{children:(null===e||void 0===e?void 0:e.length)>0&&e.map((function(n){return(0,tn.jsx)("li",{children:(0,tn.jsx)(en,{item:n,increaseProductQuantity:f,decreaseProductQuantity:g,availableQuantity:o[n.productId]})},n.sku.id)}))})]}),(0,tn.jsxs)(xn,{children:[(0,tn.jsxs)(hn,{children:[(0,tn.jsxs)("p",{children:["\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c",(0,tn.jsx)("br",{})," \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"]}),(0,tn.jsxs)("p",{children:["\u0417\u0430 \u0442\u0430\u0440\u0438\u0444\u0430\u043c\u0438",(0,tn.jsx)("br",{})," \u043f\u0435\u0440\u0435\u0432\u0456\u0437\u043d\u0438\u043a\u0430"]})]}),(0,tn.jsxs)(fn,{children:[(0,tn.jsx)("p",{children:"\u0421\u0443\u043c\u0430 "}),(0,tn.jsxs)("p",{children:[(0,G.T)(p.totalAmount)," ",p.currencyCode]})]}),(0,tn.jsxs)(gn,{children:[(0,tn.jsx)(mn,{to:"/order",state:{from:d,sessionId:null===p||void 0===p?void 0:p.sessionId},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,tn.jsx)(Zn,{to:"/catalog",state:{from:d},children:"\u041f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438 \u043f\u043e\u043a\u0443\u043f\u043a\u0443"})]})]})]}):(0,tn.jsxs)("div",{style:{display:"flex",gap:"4px"},children:[(0,tn.jsx)("p",{children:"\u0412\u0430\u0448 \u043a\u043e\u0448\u0438\u043a \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u0439."}),(0,tn.jsx)(B.rU,{to:"/catalog",state:{from:d},children:"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044f \u0434\u043e \u043f\u043e\u043a\u0443\u043f\u043e\u043a"})]})]})},yn=function(){return(0,tn.jsx)(tn.Fragment,{children:(0,tn.jsx)(jn,{})})}},8379:function(n,t,e){e.d(t,{$:function(){return r}});var r=function(n,t){return n.length>t?n.substring(0,t-3)+"...":n}},6565:function(n,t,e){e.d(t,{T:function(){return r}});var r=function(n){if(n&&"number"===typeof n){var t=n.toString();if(t.length>3)return t.replace(/\B(?=(\d{3})+(?!\d))/g," ")}return n}}}]);
//# sourceMappingURL=74.372db5f1.chunk.js.map