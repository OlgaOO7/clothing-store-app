"use strict";(self.webpackChunkclothing_store_app=self.webpackChunkclothing_store_app||[]).push([[74],{8074:function(n,t,e){e.r(t),e.d(t,{default:function(){return Un}});var r,i,o,c,a,s,d,p,l,x,u,h,f,m,g,Z,b,j,v,w,y,k,P,I,z,C,q,Q,T,S,U,E,$=e(4165),B=e(5861),_=e(9439),A=e(2791),F=e(9434),G=e(7689),H=e(1087),L=e(1243),M=e(8117),K=e(2894),O=e(6565),R=e(8379),Y=e(4305),D=e(7609),J=e(168),N=e(5867),V=N.ZP.div(r||(r=(0,J.Z)(["\n  display: flex;\n  align-items: center;\n"]))),W=N.ZP.div(i||(i=(0,J.Z)(["\n  display: flex;\n  gap: 16px;\n  /* width: 493px; */\n  margin-right: 20px;\n  @media (min-width: 768px) {\n    gap: 35px;\n    margin-right: 195px;\n  }\n"]))),X=N.ZP.img(o||(o=(0,J.Z)(["\n  width: 48px;\n  height: 67px;\n  max-width: none;\n  @media (min-width: 768px) {\n    width: 206px;\n    height: 234px;\n  }\n"]))),nn=N.ZP.div(c||(c=(0,J.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 9px;\n  width: 66px;\n  color: #000;\n  text-align: left;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 300;\n  line-height: normal;\n  @media (min-width: 768px) {\n    width: 250px;\n    gap: 15px;\n    font-size: 24px;\n  }\n"]))),tn=N.ZP.p(a||(a=(0,J.Z)(["\n  color: #000;\n  width: max-content;\n  font-weight: 400;\n  font-size: 16px;\n  @media (min-width: 768px) {\n    font-size: 24px;\n  }\n"]))),en=N.ZP.div(s||(s=(0,J.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  @media (min-width: 768px) {\n    gap: 15px;\n  }\n"]))),rn=N.ZP.div(d||(d=(0,J.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px 13px;\n  margin-right: 32px;\n  width: 47px;\n  height: 22px;\n  border: 1px solid #000;\n  font-size: 14px;\n  @media (min-width: 768px) {\n    width: 82px;\n    height: 32px;\n    margin-right: 115px;\n    font-size: 18px;\n  }\n"]))),on=N.ZP.svg(p||(p=(0,J.Z)(["\n  width: 9px;\n  height: 22px;\n"]))),cn=N.ZP.p(l||(l=(0,J.Z)(["\n  /* margin-right: 219px; */\n  color: #000;\n  text-align: center;\n  font-family: Inter;\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n  @media (min-width: 768px) {\n    font-size: 24px;\n  }\n"]))),an=N.ZP.button(x||(x=(0,J.Z)(["\n  width: 11px;\n  height: 11px;\n  background-color: transparent;\n  border: none;\n  @media (max-width: 767px) {\n    margin-right: 6px;\n  }\n  @media (min-width: 768px) {\n    width: 13px;\n    height: 13px;\n  }\n"]))),sn=N.ZP.svg(u||(u=(0,J.Z)(["\n  width: 11px;\n  height: 11px;\n  @media (min-width: 768px) {\n    width: 13px;\n    height: 13px;\n  }\n"]))),dn=N.ZP.p(h||(h=(0,J.Z)(["\n  color: ",";\n  font-size: ",";\n  padding-top: ",";\n  @media (max-width: 767px) {\n    font-size: 10px;\n  }\n"])),(function(n){return n.color}),(function(n){return n.fontSize}),(function(n){return n.$paddingTop})),pn=N.ZP.div(f||(f=(0,J.Z)(["\n  display: flex;\n  align-items: center;\n"]))),ln=N.ZP.div(m||(m=(0,J.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),xn=N.ZP.div(g||(g=(0,J.Z)(["\n  @media (min-width: 768px) {\n    width: 130px;\n    margin-right: 180px;\n  }\n"]))),un=e(184),hn=function(n){var t=n.item,e=n.decreaseProductQuantity,r=n.increaseProductQuantity,i=n.availableQuantity,o=(0,Y.G)().isMobileScreen,c=(0,F.I0)(),a=(0,G.TH)(),s=function(){var n=(0,B.Z)((0,$.Z)().mark((function n(t){return(0,$.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c((0,M.x$)(t));case 2:return n.next=4,c((0,M.dv)());case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),d=i>0,p=1===i,l=i===t.quantity;return console.log("isMaxAvailableQunatity:",l),console.log("isOneProductAvalable:",p),(0,un.jsxs)(V,{children:[o&&(0,un.jsx)(an,{type:"button",onClick:function(){return s(t.sku.id)},children:(0,un.jsx)(sn,{children:(0,un.jsx)("use",{href:"".concat(D.Z,"#icon-cross")})})}),(0,un.jsxs)(W,{children:[(0,un.jsx)(H.rU,{to:"/catalog/".concat(t.productId),state:{from:a},children:(0,un.jsx)(X,{src:t.photoUrl,alt:(0,R.$)(t.productTitle),loading:"lazy"})}),(0,un.jsxs)(nn,{children:[(0,un.jsx)(H.rU,{to:"/catalog/".concat(t.productId),state:{from:a},children:o?(0,un.jsx)(tn,{children:(0,R.$)(t.productTitle,8)}):(0,un.jsx)(tn,{children:(0,R.$)(t.productTitle,15)})}),t.sku.characteristics&&(0,un.jsxs)(en,{children:[(0,un.jsx)("p",{children:t.sku.characteristics[1].name}),(0,un.jsx)("p",{children:t.sku.characteristics[0].name})]})]})]}),i?d&&(0,un.jsxs)(pn,{children:[(0,un.jsxs)(ln,{children:[(0,un.jsxs)(rn,{children:[(0,un.jsx)("span",{onClick:function(){return e(t.productId)},children:(0,un.jsx)(on,{children:(0,un.jsx)("use",{href:"".concat(D.Z,"#icon-minus")})})}),t.quantity,(0,un.jsx)("span",{onClick:function(){return r(t.productId)},children:(0,un.jsx)(on,{children:(0,un.jsx)("use",{href:"".concat(D.Z,"#icon-plus")})})})]}),l||p?(0,un.jsxs)(dn,{$paddingTop:"6px",color:"#4C4B4B",fontSize:"12px",children:["\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c: ",i]}):null]}),(0,un.jsx)(xn,{children:(0,un.jsxs)(cn,{children:[(0,O.T)(t.amount)," ",t.currencyCode]})}),!o&&(0,un.jsx)(an,{type:"button",onClick:function(){return s(t.sku.id)},children:(0,un.jsx)(sn,{children:(0,un.jsx)("use",{href:"".concat(D.Z,"#icon-cross")})})})]}):(0,un.jsxs)("div",{style:{width:"547px",display:"flex",justifyContent:"space-between"},children:[(0,un.jsx)(dn,{color:"red",children:"\u041d\u0430\u0440\u0430\u0437\u0456 \u0442\u043e\u0432\u0430\u0440 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0439"}),!o&&(0,un.jsx)(an,{type:"button",onClick:function(){return s(t.sku.id)},children:(0,un.jsx)(sn,{children:(0,un.jsx)("use",{href:"".concat(D.Z,"#icon-cross")})})})]})]})},fn=N.ZP.div(Z||(Z=(0,J.Z)(["\n  padding: 174px 40px 0 40px;\n  margin-bottom: 646px;\n"]))),mn=N.ZP.div(b||(b=(0,J.Z)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n"]))),gn=N.ZP.div(j||(j=(0,J.Z)(["\n  width: 1px;\n  height: 16px;\n  margin: 0 31px;\n  background-color: #000;\n"]))),Zn=(0,N.ZP)(H.rU)(v||(v=(0,J.Z)(["\n  font-size: 15px;\n  color: #000;\n  @media (min-width: 768px) {\n    font-size: 22px;\n  }\n"]))),bn=N.ZP.div(w||(w=(0,J.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),jn=N.ZP.div(y||(y=(0,J.Z)(["\n  display: flex;\n  margin-bottom: 18px;\n  color: #737373;\n  text-align: center;\n  font-family: Gill Sans;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: normal;\n  @media (min-width: 768px) {\n    font-size: 32px;\n    color: #000;\n  }\n"]))),vn=N.ZP.p(k||(k=(0,J.Z)(["\n  margin-right: 44px;\n  @media (min-width: 768px) {\n    margin-right: 610px;\n  }\n"]))),wn=N.ZP.p(P||(P=(0,J.Z)(["\n  margin-right: 38px;\n  @media (min-width: 768px) {\n    margin-right: 113px;\n  }\n"]))),yn=N.ZP.ul(I||(I=(0,J.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 37px;\n  max-height: 507px;\n  overflow-y: auto;\n  flex-shrink: 0;\n  /* -webkit-overflow-scrolling: touch; */\n\n  /* IE and Edge: */\n  -ms-overflow-style: none;\n  &::-ms-scrollbar-thumb {\n    background-color: #888;\n  }\n  &::-ms-scrollbar-track {\n    background-color: #f1f1f1;\n  }\n\n  /* Firefox: */\n  scrollbar-width: thin;\n  scrollbar-color: #888 #f1f1f1;\n\n  /* Chrome and Safari: */\n  &::-webkit-scrollbar {\n    width: 6px;\n    @media (min-width: 768px) {\n      width: 12px;\n    }\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: #888;\n    border-radius: 6px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background-color: #f1f1f1;\n    border-radius: 6px;\n  }\n"]))),kn=N.ZP.div(z||(z=(0,J.Z)(["\n  width: max-content;\n  padding: 84px 104px;\n  margin-top: 36px;\n  margin-left: auto;\n  background-color: #f0f0f0;\n"]))),Pn=N.ZP.div(C||(C=(0,J.Z)(["\n  display: flex;\n  justify-content: space-between;\n  gap: 120px;\n  margin-bottom: 31px;\n  color: #000;\n  font-size: 18px;\n"]))),In=N.ZP.div(q||(q=(0,J.Z)(["\n  display: flex;\n  justify-content: space-between;\n  gap: 120px;\n  margin-bottom: 61px;\n  color: #000;\n  font-size: 24px;\n  font-weight: 600px;\n"]))),zn=N.ZP.div(Q||(Q=(0,J.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 14px;\n  width: 345px;\n"]))),Cn=(0,N.ZP)(H.rU)(T||(T=(0,J.Z)(["\n  display: flex;\n  justify-content: center;\n  color: #fff;\n  background-color: #0e0e0e;\n  font-size: 22px;\n  padding: 16px 0;\n  border: 1px solid #191919;\n  width: 345px;\n"]))),qn=(0,N.ZP)(H.rU)(S||(S=(0,J.Z)(["\n  display: flex;\n  justify-content: center;\n  color: #191919;\n  font-size: 22px;\n  padding: 16px 0;\n  border: 1px solid #191919;\n  width: 345px;\n"]))),Qn=N.ZP.div(U||(U=(0,J.Z)(["\n  display: flex;\n  justify-content: space-between;\n  /* margin-bottom: 29px; */\n  /* background-color: rgb(255, 255, 255); */\n  /* border-bottom: 1px solid #686868; */\n"]))),Tn=N.ZP.button(E||(E=(0,J.Z)(["\n  padding: 8px 10px;\n  color: #ffffff;\n  background-color: #000000;\n  border: none;\n  font-size: 14px;\n  @media (min-width: 768px) {\n    font-size: 18px;\n  }\n"]))),Sn=function(){var n=(0,A.useState)([]),t=(0,_.Z)(n,2),e=t[0],r=t[1],i=(0,A.useState)({}),o=(0,_.Z)(i,2),c=o[0],a=o[1],s=(0,A.useState)(!1),d=(0,_.Z)(s,2),p=d[0],l=d[1],x=(0,F.I0)(),u=(0,G.TH)(),h=localStorage.getItem("userUid"),f=(0,F.v9)(K.KY),m=(0,F.v9)(K.pZ),g=(0,F.v9)(K.wU),Z=e&&e.some((function(n){return 0===c[n.productId]})),b=e&&e.some((function(n){return c[n.productId]<n.quantity})),j=(0,A.useCallback)((function(){try{x((0,M.dv)())}catch(n){console.error("Error fetching data:",n)}}),[x]);(0,A.useEffect)((function(){j()}),[j]),(0,A.useEffect)((function(){r(f.items);var n=function(){var n=(0,B.Z)((0,$.Z)().mark((function n(t){var e,r,i;return(0,$.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L.Z.get("/products/".concat(t));case 3:if(e=n.sent,!(r=f.items.find((function(n){return n.productId===t})))){n.next=12;break}if(!(i=e.data.skuSet.find((function(n){return n.id===r.sku.id})))){n.next=11;break}return n.abrupt("return",{productId:t,availableQuantity:i.availableQuantity});case 11:return n.abrupt("return",{productId:t,availableQuantity:0});case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.error(n.t0);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(t){return n.apply(this,arguments)}}(),t=function(){var t=(0,B.Z)((0,$.Z)().mark((function t(){var e,r,i;return(0,$.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!f.items){t.next=8;break}return e=f.items.map(function(){var t=(0,B.Z)((0,$.Z)().mark((function t(e){return(0,$.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n(e.productId));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),t.next=5,Promise.all(e);case 5:r=t.sent,i=r.reduce((function(n,t){return n[t.productId]=t.availableQuantity,n}),{}),a(i);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();t()}),[f,x]);var v=function(){var n=(0,B.Z)((0,$.Z)().mark((function n(t){var r,i,o,a,s;return(0,$.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.find((function(n){return n.productId===t})),i=r.quantity+1,o=i-r.quantity,a=c[r.productId],!(r&&i<=a)){n.next=19;break}return s={sessionId:h,skuId:r.sku.id,price:r.price,quantity:o,amount:r.price*o},n.prev=6,n.next=9,x((0,M.Bk)(s));case 9:return n.next=11,j();case 11:l(!p),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(6),console.error("Error updating product quantity:",n.t0);case 17:n.next=20;break;case 19:return n.abrupt("return");case 20:case"end":return n.stop()}}),n,null,[[6,14]])})));return function(t){return n.apply(this,arguments)}}(),w=function(){var n=(0,B.Z)((0,$.Z)().mark((function n(t){var r,i,o,c;return(0,$.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.find((function(n){return n.productId===t})),i=r.quantity-1,o=i-r.quantity,!(r&&r.quantity>1)){n.next=17;break}return c={sessionId:h,skuId:r.sku.id,price:r.price,quantity:o,amount:r.price*o},n.prev=5,n.next=8,x((0,M.Bk)(c));case 8:return n.next=10,j();case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),console.error("Error updating product quantity:",n.t0);case 15:n.next=18;break;case 17:return n.abrupt("return");case 18:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(t){return n.apply(this,arguments)}}();return(0,un.jsxs)(fn,{children:[(0,un.jsxs)(mn,{children:[(0,un.jsx)(Zn,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),(0,un.jsx)(gn,{}),(0,un.jsx)(Zn,{to:"/cart",children:"\u041a\u043e\u0448\u0438\u043a"})]}),g?(0,un.jsx)("p",{children:"Is loading..."}):m?(0,un.jsxs)("div",{children:[(0,un.jsxs)(bn,{children:[(0,un.jsxs)(Qn,{children:[(0,un.jsxs)(jn,{children:[(0,un.jsx)(vn,{children:"\u0422\u043e\u0432\u0430\u0440"}),(0,un.jsx)(wn,{children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c"}),(0,un.jsx)("p",{children:"\u0426\u0456\u043d\u0430"})]}),(0,un.jsx)("div",{children:(0,un.jsx)(Tn,{onClick:function(){x((0,M.LL)())},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0438 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})})]}),(0,un.jsx)("div",{style:{display:"flex",padding:"29px 0",borderTop:"1px solid #686868",borderBottom:"1px solid #686868"},children:(0,un.jsx)(yn,{children:(null===e||void 0===e?void 0:e.length)>0&&e.map((function(n){return(0,un.jsx)("li",{children:(0,un.jsx)(hn,{item:n,increaseProductQuantity:v,decreaseProductQuantity:w,availableQuantity:c[n.productId]})},n.sku.id)}))})})]}),(0,un.jsxs)(kn,{children:[(0,un.jsxs)(Pn,{children:[p&&(0,un.jsx)("div",{children:"Force Rerender Test"}),(0,un.jsxs)("p",{children:["\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c",(0,un.jsx)("br",{})," \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"]}),(0,un.jsxs)("p",{children:["\u0417\u0430 \u0442\u0430\u0440\u0438\u0444\u0430\u043c\u0438",(0,un.jsx)("br",{})," \u043f\u0435\u0440\u0435\u0432\u0456\u0437\u043d\u0438\u043a\u0430"]})]}),(0,un.jsxs)(In,{children:[(0,un.jsx)("p",{children:"\u0421\u0443\u043c\u0430 "}),(0,un.jsxs)("p",{children:[(0,O.T)(f.totalAmount)," ",f.currencyCode]})]}),(0,un.jsxs)(zn,{children:[Z||b?(0,un.jsx)(Cn,{disabled:!0,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}):(0,un.jsx)(Cn,{to:"/order",state:{from:u,sessionId:null===f||void 0===f?void 0:f.sessionId},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,un.jsx)(qn,{to:"/catalog",state:{from:u},children:"\u041f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438 \u043f\u043e\u043a\u0443\u043f\u043a\u0443"})]})]})]}):(0,un.jsxs)("div",{style:{display:"flex",gap:"4px"},children:[(0,un.jsx)("p",{children:"\u0412\u0430\u0448 \u043a\u043e\u0448\u0438\u043a \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u0439."}),(0,un.jsx)(H.rU,{to:"/catalog",state:{from:u},children:"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044f \u0434\u043e \u043f\u043e\u043a\u0443\u043f\u043e\u043a"})]})]})},Un=function(){return(0,un.jsx)("main",{children:(0,un.jsx)(Sn,{})})}},8379:function(n,t,e){e.d(t,{$:function(){return r}});var r=function(n,t){return n.length>t?n.substring(0,t-3)+"...":n}}}]);
//# sourceMappingURL=74.26fc7d0a.chunk.js.map